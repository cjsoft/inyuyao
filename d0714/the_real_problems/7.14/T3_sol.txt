1 Assign
(By Zmx)
1.1 题目来源
TCO 2010 SemiFinal 1 Div 1 950pts
1.2 题目大意
不写了。。
1.3 关键词
概率，DP
1.4 题解
概率相关的题一定要搞清楚那些事件是独立的，那些是相关的，那些
是互斥的。
这题的突破口是要枚举一个人cur 作为当前考试中进入复赛的人里最
差的，再枚举他的分数v。这样子我们就相当于枚举了进入复赛的界限。有
了这个前提，我们可以很容易算出所有人进入复赛的概率，即别人考的比
当前cur 好的概率，我们设为p[i]。注意我们令p[cur] = 1。
注意到进入复赛之后，一个人排在哪里和他的分数无关，而只和他的
标号，他的标号排在哪里有关。我们可以用一个简单的DP，求出f[i][j] 表
示i 号人以及之前有j 个人晋级了，且i 号人晋级了的概率。同样的，我
们可以求出g[i][j] 表示i 号人之后有j 个人晋级了（与i 号人无关）。所
以，一个人i 当前前提下，他排在晋级的K 个人里面的第j 个的概率就是
f[i][j] * g[i][K -j]，直接将这个值加到答案里面就可以了（可以知道他晋级
之后分在哪个组）。
然后因为我们枚举了一个人考的分数v，所以还要乘以考这个分数的
概率，即1/(Ri - Li + 1)。
1.5 正确性验证
首先，枚举的前提是互斥的。所以答案直接累计是没有问题。然后在
这个前提下，对于一个特定的人i，他排在晋级的K 个人里的j 位置，对
于不同的j，事件也是互斥的，所以累计答案也是可行的。虽然各个人排位
确实是有影响的（第i 个人排在j 位和第i′ 个人排在j′ 位不是独立的），
然而我们计算答案的时候不会受到这样的影响。再考虑我们的前提条件：
cur 一定是考的最差的，且一定有K 个人晋级，那么这部分的影响在计算
f[i][j] 和g[i][j] 的时候已经考虑过了。
这样这个算法的正确性的疑难点基本就说完了。
1.6 后记
这道题出出来是为了让大家能愉悦的玩概率的(＾ o ＾) ?。由于出题
人确实弱鸡，出不来一些丧心病狂的题目，就搞了个有趣的，稍微有些思
维难度的题。如果大家觉得太水了的话就尽情喷的我吧